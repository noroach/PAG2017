// if not blocked by walls or floors
has_line_of_sight = !collision_line(x, y, o_newplayer.x, o_newplayer.y, o_solid, false, true);
